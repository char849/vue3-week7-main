(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6252bdf0"],{e01a:function(t,c,e){"use strict";var o=e("23e7"),i=e("83ab"),a=e("da84"),d=e("e330"),n=e("1a2d"),s=e("1626"),r=e("3a9b"),l=e("577e"),b=e("9bf2").f,u=e("e893"),p=a.Symbol,h=p&&p.prototype;if(i&&s(p)&&(!("description"in h)||void 0!==p().description)){var j={},O=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),c=r(h,this)?new p(t):void 0===t?p():p(t);return""===t&&(j[c]=!0),c};u(O,p),O.prototype=h,h.constructor=O;var g="Symbol(test)"==String(p("test")),v=d(h.toString),m=d(h.valueOf),f=/^Symbol\((.*)\)[^)]+$/,y=d("".replace),k=d("".slice);b(h,"description",{configurable:!0,get:function(){var t=m(this),c=v(t);if(n(j,t))return"";var e=g?k(c,7,-1):y(c,f,"$1");return""===e?void 0:e}}),o({global:!0,forced:!0},{Symbol:O})}},fd15:function(t,c,e){"use strict";e.r(c);e("a4d3"),e("e01a");var o=e("7a23"),i={class:"container"},a=Object(o["h"])("h2",null,"前台產品列表",-1),d={class:"container"},n={class:"row row-cols-1 row-cols-lg-5 g-3"},s={class:"card h-100"},r=["src"],l={class:"card-body"},b={class:"card-title"},u={class:"card-text"},p={key:0,class:"h5"},h={key:1},j={class:"h6"},O={class:"h5"},g={class:"card-footer bg-white"},v={class:"d-grid gap-2 text-center d-md-block"},m=["disabled","onClick"],f=Object(o["i"])(" 查看更多 "),y=["disabled","onClick"],k=Object(o["i"])(" 加到購物車 ");function L(t,c,e,L,M,w){var J=Object(o["G"])("Loading"),P=Object(o["G"])("font-awesome-icon"),x=Object(o["G"])("Pagination"),C=Object(o["G"])("ProductModal");return Object(o["y"])(),Object(o["g"])("div",i,[Object(o["j"])(J,{active:M.isLoading},null,8,["active"]),a,Object(o["h"])("div",d,[Object(o["h"])("div",n,[(Object(o["y"])(!0),Object(o["g"])(o["a"],null,Object(o["E"])(M.products,(function(t){return Object(o["y"])(),Object(o["g"])("div",{class:"col",key:t.id},[Object(o["h"])("div",s,[Object(o["h"])("img",{src:t.imageUrl,class:"card-img-top",alt:"..."},null,8,r),Object(o["h"])("div",l,[Object(o["h"])("h5",b,Object(o["J"])(t.title),1),Object(o["h"])("p",u,Object(o["J"])(t.description),1),t.price===t.origin_price?(Object(o["y"])(),Object(o["g"])("div",p,Object(o["J"])(t.price)+" 元 ",1)):(Object(o["y"])(),Object(o["g"])("div",h,[Object(o["h"])("del",j,"原價 "+Object(o["J"])(t.origin_price)+" 元",1),Object(o["h"])("p",O,"現在只要 "+Object(o["J"])(t.price)+" 元",1)]))]),Object(o["h"])("div",g,[Object(o["h"])("div",v,[Object(o["h"])("button",{class:"btn my-2 me-2 btn-outline-primary btn-sm",type:"button",disabled:M.isLoadingItem===t.id,onClick:function(c){return w.openProductModal(t.id)}},[M.isLoadingItem===t.id?(Object(o["y"])(),Object(o["e"])(P,{key:0,icon:"spinner",pulse:""})):Object(o["f"])("",!0),f],8,m),Object(o["h"])("button",{disabled:M.isLoadingItem===t.id,onClick:function(c){return w.addCart(t.id)},class:"btn btn-primary btn-sm",type:"button"},[M.isLoadingItem===t.id?(Object(o["y"])(),Object(o["e"])(P,{key:0,icon:"spinner",pulse:""})):Object(o["f"])("",!0),k],8,y)])])])])})),128))]),Object(o["j"])(x,{pages:M.pagination,onGetProduct:w.getProducts},null,8,["pages","onGetProduct"])]),Object(o["j"])(C,{id:M.productId,ref:"productModal",onAddCart:w.addCart},null,8,["id","onAddCart"])])}e("99af");var M=e("6be2"),w={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},J={class:"modal-dialog modal-xl",role:"document"},P={class:"modal-content border-0"},x={class:"modal-header bg-dark text-white"},C={class:"modal-title",id:"exampleModalLabel"},I=Object(o["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),$={class:"modal-body"},G={class:"row"},S={class:"col-sm-6"},q=["src"],_={class:"col-sm-6"},U={class:"badge bg-primary rounded-pill"},A={class:"h5"},E={class:"h6"},D={class:"h5"},N={class:"input-group"},V=["value"];function z(t,c,e,i,a,d){var n=Object(o["G"])("Loading");return Object(o["y"])(),Object(o["g"])(o["a"],null,[Object(o["j"])(n,{active:t.isLoading},null,8,["active"]),Object(o["h"])("div",w,[Object(o["h"])("div",J,[Object(o["h"])("div",P,[Object(o["h"])("div",x,[Object(o["h"])("h5",C,[Object(o["h"])("span",null,Object(o["J"])(a.product.title),1)]),I]),Object(o["h"])("div",$,[Object(o["h"])("div",G,[Object(o["h"])("div",S,[Object(o["h"])("img",{class:"img-fluid",src:a.product.imageUrl,alt:""},null,8,q)]),Object(o["h"])("div",_,[Object(o["h"])("span",U,Object(o["J"])(a.product.category),1),Object(o["h"])("p",null,"商品描述："+Object(o["J"])(a.product.description),1),Object(o["h"])("p",null,"商品內容："+Object(o["J"])(a.product.content),1),Object(o["h"])("div",A,Object(o["J"])(a.product.origin_price)+" 元",1),Object(o["h"])("del",E,"原價 "+Object(o["J"])(a.product.origin_price)+" 元",1),Object(o["h"])("div",D,"現在只要 "+Object(o["J"])(a.product.price)+" 元",1),Object(o["h"])("div",null,[Object(o["h"])("div",N,[Object(o["U"])(Object(o["h"])("select",{id:"",class:"form-select","onUpdate:modelValue":c[0]||(c[0]=function(t){return a.qty=t})},[(Object(o["y"])(),Object(o["g"])(o["a"],null,Object(o["E"])(5,(function(t){return Object(o["h"])("option",{value:t,key:"".concat(t,"-").concat(e.id)},Object(o["J"])(t),9,V)})),64))],512),[[o["N"],a.qty]]),Object(o["h"])("button",{type:"button",class:"btn btn-primary",onClick:c[1]||(c[1]=function(c){return t.$emit("add-cart",a.product.id,a.qty)})}," 加入購物車 ")])])])])])])])],512)],64)}var B=e("7c2b"),F=e.n(B),H={props:["id"],data:function(){return{modal:{},product:{},qty:1}},watch:{id:function(){this.product={},this.getProduct()}},methods:{getProduct:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2/","/api/").concat("charlotte-hexschool","/product/").concat(this.id)).then((function(c){t.isLoading=!1,console.log(c),t.product=c.data.product}))},openModal:function(){this.productModal.show()},closeModal:function(){this.productModal.hide()}},mounted:function(){this.productModal=new F.a(this.$refs.modal,{keyboard:!1,backdrop:"static"})}},K=e("6b0d"),Q=e.n(K);const R=Q()(H,[["render",z]]);var T=R,W=e("1799"),X={data:function(){return{cartData:{carts:[]},products:[],productId:"",isLoadingItem:"",isLoading:!1,product:{},modal:{ProductModal:""},pagination:{}}},components:{ProductModal:T,Pagination:W["a"]},methods:{addCart:function(t){var c=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o={product_id:t,qty:e};this.isLoadingItem=t,this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart"),{data:o}).then((function(t){console.log(t),c.$refs.productModal.closeModal(),c.isLoadingItem="",M["a"].emit("get-cart")}))},getProducts:function(){var t=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/products?page=").concat(c)).then((function(c){console.log(c),t.products=c.data.products,t.isLoading=!1,t.pagination=c.data.pagination}))},openProductModal:function(t){this.productId=t,this.$refs.productModal.openModal()}},mounted:function(){this.getProducts()}};const Y=Q()(X,[["render",L]]);c["default"]=Y}}]);
//# sourceMappingURL=chunk-6252bdf0.c6a8afbc.js.map