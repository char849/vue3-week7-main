{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/views/ProductsView.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?f7e1","webpack:///./src/views/ProductsView.vue?f20f"],"names":["$","DESCRIPTORS","global","uncurryThis","hasOwn","isCallable","isPrototypeOf","toString","defineProperty","f","copyConstructorProperties","NativeSymbol","Symbol","SymbolPrototype","prototype","undefined","description","EmptyStringDescriptionStore","SymbolWrapper","arguments","length","result","this","constructor","NATIVE_SYMBOL","String","symbolToString","symbolValueOf","valueOf","regexp","replace","stringSlice","slice","configurable","get","symbol","string","desc","forced","class","_createElementVNode","_createElementBlock","_createVNode","_component_Loading","active","$data","_hoisted_2","_Fragment","_renderList","product","key","id","src","imageUrl","alt","_toDisplayString","title","price","origin_price","_hoisted_11","type","disabled","onClick","$options","_createBlock","_component_font_awesome_icon","icon","pulse","_component_Pagination","pages","onGetProduct","_component_ProductModal","ref","onAddCart","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","_ctx","_hoisted_6","category","content","$event","num","value","$props","_hoisted_17","props","data","modal","qty","watch","getProduct","methods","isLoading","$http","process","then","res","console","log","openModal","productModal","show","closeModal","hide","mounted","Modal","$refs","keyboard","backdrop","__exports__","cartData","carts","products","productId","isLoadingItem","ProductModal","pagination","components","Pagination","addCart","product_id","post","emitter","emit","getProducts","page","openProductModal","render"],"mappings":"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","file":"js/chunk-6252bdf0.c6a8afbc.js","sourcesContent":["// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","<template>\n  <div class=\"container\">\n    <Loading :active=\"isLoading\"></Loading>\n    <h2>前台產品列表</h2>\n    <div class=\"container\">\n      <div class=\"row row-cols-1 row-cols-lg-5 g-3\">\n        <div class=\"col\" v-for=\"product in products\" :key=\"product.id\">\n          <div class=\"card h-100\">\n            <img :src=\"product.imageUrl\" class=\"card-img-top\" alt=\"...\" />\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">{{ product.title }}</h5>\n              <p class=\"card-text\">\n                {{ product.description }}\n              </p>\n              <div class=\"h5\" v-if=\"product.price === product.origin_price\">\n                {{ product.price }} 元\n              </div>\n              <div v-else>\n                <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n                <p class=\"h5\">現在只要 {{ product.price }} 元</p>\n              </div>\n            </div>\n            <div class=\"card-footer bg-white\">\n              <div class=\"d-grid gap-2 text-center d-md-block\">\n                <button\n                  class=\"btn my-2 me-2 btn-outline-primary btn-sm\"\n                  type=\"button\"\n                  :disabled=\"isLoadingItem === product.id\"\n                  @click=\"openProductModal(product.id)\"\n                >\n                  <font-awesome-icon\n                    icon=\"spinner\"\n                    pulse\n                    v-if=\"isLoadingItem === product.id\"\n                  />\n                  查看更多\n                </button>\n                <button\n                  :disabled=\"isLoadingItem === product.id\"\n                  @click=\"addCart(product.id)\"\n                  class=\"btn btn-primary btn-sm\"\n                  type=\"button\"\n                >\n                  <!-- 6. 如果條件成立，就出現局部動畫效果 -->\n                  <font-awesome-icon\n                    icon=\"spinner\"\n                    pulse\n                    v-if=\"isLoadingItem === product.id\"\n                  />\n                  加到購物車\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 分頁元件 -->\n      <Pagination :pages=\"pagination\" @get-product=\"getProducts\"></Pagination>\n    </div>\n\n    <!-- 1. 產品Modal $refs product-modal 元件掛在畫面上 -->\n    <!-- 2. 加入 ref=\"productModal\" 來操控外層元件 openProductModal -->\n    <!-- 12. 前內 @add-cart 後外 addCart，將內層資料傳出來 -->\n    <ProductModal\n      :id=\"productId\"\n      ref=\"productModal\"\n      @add-cart=\"addCart\"\n    ></ProductModal>\n    <!-- 產品Modal -->\n  </div>\n</template>\n\n<script>\nimport emitter from \"@/libs/emitter\";\nimport ProductModal from \"@/components/ProductModal.vue\";\nimport Pagination from \"@/components/Pagination.vue\";\n\nexport default {\n  data() {\n    return {\n      // 購物車列表\n      cartData: {\n        carts: [], // 14. 加入第二層 carts: [] html的清空購物車那邊就可以寫入它的結構了\n      },\n      // 產品列表\n      products: [],\n      productId: \"\", // 3. 存放傳送外層產品 id 到內層的modal\n      isLoadingItem: \"\", // 6. 局部讀取效果的變數\n      isLoading: false,\n      product: {}, // 4. 存入單一筆遠端資料\n      modal: {\n        ProductModal: \"\",\n      },\n      pagination: {},\n    };\n  },\n  components: {\n    ProductModal,\n    Pagination,\n  },\n  methods: {\n    // 5. 加入購物車內容，帶入二個參數 id、數量，再加入參數預設值 qty = 1\n    addCart(id, qty = 1) {\n      // 5. 加入購物車的資料格式\n      const data = {\n        product_id: id,\n        qty,\n      };\n      this.isLoadingItem = id; // 6. 帶入讀取的id\n      this.$http\n        .post(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`,\n          { data }\n        ) // 5. 將資料格式帶入\n        .then((res) => {\n          console.log(res);\n          // 5. 加入購物車後，再重新取得購物車內容\n          //this.getCart();\n          // 12. 從內層 modal 新增數量後關閉\n          this.$refs.productModal.closeModal();\n          // 6. 讀取完後，清空id\n          this.isLoadingItem = \"\";\n          // get-cart\n          emitter.emit(\"get-cart\");\n        });\n    },\n    getProducts(page = 1) {\n      // 參數預設值\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}` //query 用? 去帶\n        )\n        .then((res) => {\n          console.log(res);\n          //把產品列表存起來，準備呈現在畫面\n          this.products = res.data.products;\n          this.isLoading = false;\n          this.pagination = res.data.pagination;\n        });\n    },\n    // 2. 運用 $refs 直接操作內層的 openModal\n    openProductModal(id) {\n      // 3. 傳入\"內層\"參數為產品的 id\n      this.productId = id;\n      // 2. 運用 $refs 取得 html 中 ref=\"productModal\" 的元件\n      // 來操控 內層 openModal() 的方法\n      this.$refs.productModal.openModal();\n    },\n  },\n  //初使化\n  mounted() {\n    //把getProducts產品列表運作起來\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>{{ product.title }}</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-6\">\n              <img class=\"img-fluid\" :src=\"product.imageUrl\" alt=\"\" />\n            </div>\n            <div class=\"col-sm-6\">\n              <span class=\"badge bg-primary rounded-pill\">{{\n                product.category\n              }}</span>\n              <p>商品描述：{{ product.description }}</p>\n              <p>商品內容：{{ product.content }}</p>\n              <div class=\"h5\">{{ product.origin_price }} 元</div>\n              <del class=\"h6\">原價 {{ product.origin_price }} 元</del>\n              <div class=\"h5\">現在只要 {{ product.price }} 元</div>\n              <div>\n                <div class=\"input-group\">\n                  <!-- 11. 先挷定數量 v-model=\"qty\"，再 @click=\"addCart\" 要在元件內觸發的\n                      min=\"1\" 最小值只能是1 -->\n                  <!-- <input type=\"number\" class=\"form-control\" min=\"1\"\n                      v-model=\"qty\"> -->\n                  <select id=\"\" class=\"form-select\" v-model=\"qty\">\n                    <option :value=\"num\" v-for=\"num in 5\" :key=\"`${num}-${id}`\">\n                      {{ num }}\n                    </option>\n                  </select>\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-primary\"\n                    @click=\"$emit('add-cart', product.id, qty)\"\n                  >\n                    加入購物車\n                  </button>\n                </div>\n              </div>\n            </div>\n            <!-- col-sm-6 end -->\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from \"bootstrap/js/dist/modal\";\n\nexport default {\n  props: [\"id\"],\n  data() {\n    return {\n      modal: {}, // 2. 定義一個 modal 的資料變數\n      product: {}, // 4. 存入單一筆遠端資料\n      qty: 1, // 11. modal中加入購物車的數量\n    };\n  },\n  // 4. 利用 watch 監控 props: ['id']，當 id 觸發時 getProduct() 取得遠端資料\n  // 每次打開 modal 就要搓伺服器一次，偏向用戶行為\n  watch: {\n    id() {\n      //console.log(this.id);\n      this.product = {};\n      this.getProduct();\n    },\n  },\n  // 2. 新增 methods 將 openModal 包出去的方式\n  methods: {\n    // 4. 在元件內取得遠端資料\n    getProduct() {\n      this.isLoading = true;\n      this.$http\n        .get(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.id}`\n        )\n        .then((res) => {\n          this.isLoading = false;\n          console.log(res);\n          this.product = res.data.product;\n        });\n    },\n    openModal() {\n      this.productModal.show();\n    },\n    // 12. 內層元件也要新增 closeModal()\n    closeModal() {\n      this.productModal.hide();\n    },\n  },\n\n  // 12. 內層傳外層\n  // addCart() {\n  //   this.$emit(\"add-cart\", this.product.id, this.qty);\n  // },\n\n  // 初始化\n  mounted() {\n    // 1. ref=\"modal\"\n    this.productModal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: \"static\",\n    });\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=8bfa5fe4\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\charlotte\\\\vue\\\\直播課\\\\vue3-week7-main\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=592dc03a\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\charlotte\\\\vue\\\\直播課\\\\vue3-week7-main\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}