(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cd847b0"],{"00b4":function(t,e,a){"use strict";a("ac1f");var n=a("23e7"),c=a("da84"),r=a("c65b"),o=a("e330"),s=a("1626"),l=a("861d"),i=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),d=c.Error,u=o(/./.test);n({target:"RegExp",proto:!0,forced:!i},{test:function(t){var e=this.exec;if(!s(e))return u(this,t);var a=r(e,this,t);if(null!==a&&!l(a))throw new d("RegExp exec method returned something other than an Object or null");return!!a}})},"107c":function(t,e,a){var n=a("d039"),c=a("da84"),r=c.RegExp;t.exports=n((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},"1dde":function(t,e,a){var n=a("d039"),c=a("b622"),r=a("2d00"),o=c("species");t.exports=function(t){return r>=51||!n((function(){var e=[],a=e.constructor={};return a[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},8418:function(t,e,a){"use strict";var n=a("a04b"),c=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var o=n(e);o in t?c.f(t,o,r(0,a)):t[o]=a}},9263:function(t,e,a){"use strict";var n=a("c65b"),c=a("e330"),r=a("577e"),o=a("ad6d"),s=a("9f7f"),l=a("5692"),i=a("7c73"),d=a("69f3").get,u=a("fce3"),b=a("107c"),h=l("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,m=f,p=c("".charAt),j=c("".indexOf),g=c("".replace),O=c("".slice),v=function(){var t=/a/,e=/b*/g;return n(f,t,"a"),n(f,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),x=s.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],I=v||y||x||u||b;I&&(m=function(t){var e,a,c,s,l,u,b,I=this,C=d(I),E=r(t),w=C.raw;if(w)return w.lastIndex=I.lastIndex,e=n(m,w,E),I.lastIndex=w.lastIndex,e;var k=C.groups,L=x&&I.sticky,V=n(o,I),R=I.source,S=0,U=E;if(L&&(V=g(V,"y",""),-1===j(V,"g")&&(V+="g"),U=O(E,I.lastIndex),I.lastIndex>0&&(!I.multiline||I.multiline&&"\n"!==p(E,I.lastIndex-1))&&(R="(?: "+R+")",U=" "+U,S++),a=new RegExp("^(?:"+R+")",V)),y&&(a=new RegExp("^"+R+"$(?!\\s)",V)),v&&(c=I.lastIndex),s=n(f,L?a:I,U),L?s?(s.input=O(s.input,S),s[0]=O(s[0],S),s.index=I.lastIndex,I.lastIndex+=s[0].length):I.lastIndex=0:v&&s&&(I.lastIndex=I.global?s.index+s[0].length:c),y&&s&&s.length>1&&n(h,s[0],a,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s&&k)for(s.groups=u=i(null),l=0;l<k.length;l++)b=k[l],u[b[0]]=s[b[1]];return s}),t.exports=m},"99af":function(t,e,a){"use strict";var n=a("23e7"),c=a("da84"),r=a("d039"),o=a("e8b5"),s=a("861d"),l=a("7b0b"),i=a("07fa"),d=a("8418"),u=a("65f0"),b=a("1dde"),h=a("b622"),f=a("2d00"),m=h("isConcatSpreadable"),p=9007199254740991,j="Maximum allowed index exceeded",g=c.TypeError,O=f>=51||!r((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),v=b("concat"),x=function(t){if(!s(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},y=!O||!v;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,a,n,c,r,o=l(this),s=u(o,0),b=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?o:arguments[e],x(r)){if(c=i(r),b+c>p)throw g(j);for(a=0;a<c;a++,b++)a in r&&d(s,b,r[a])}else{if(b>=p)throw g(j);d(s,b++,r)}return s.length=b,s}})},"9f7f":function(t,e,a){var n=a("d039"),c=a("da84"),r=c.RegExp,o=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=o||n((function(){return!r("a","y").sticky})),l=o||n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:s,UNSUPPORTED_Y:o}},ac1f:function(t,e,a){"use strict";var n=a("23e7"),c=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==c},{exec:c})},ad6d:function(t,e,a){"use strict";var n=a("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b0c0:function(t,e,a){var n=a("83ab"),c=a("5e77").EXISTS,r=a("e330"),o=a("9bf2").f,s=Function.prototype,l=r(s.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=r(i.exec),u="name";n&&!c&&o(s,u,{configurable:!0,get:function(){try{return d(i,l(this))[1]}catch(t){return""}}})},cc55:function(t,e,a){"use strict";a.r(e);a("99af"),a("b0c0"),a("b64b");var n=a("7a23"),c={class:"container"},r=Object(n["h"])("h2",null,"購物車",-1),o={class:"row justify-content-center"},s={class:"col-md-6"},l={class:"text-end"},i=["disabled"],d={class:"table align-middle"},u=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th"),Object(n["h"])("th",null,"品名"),Object(n["h"])("th",{style:{width:"130px"}},"數量/單位"),Object(n["h"])("th"),Object(n["h"])("th",null,"單價")])],-1),b=["onClick","disabled"],h=Object(n["i"])(" x "),f={class:"input-group input-group-sm"},m={class:"input-group mb-3"},p=["onUpdate:modelValue","onChange","disabled"],j=["value"],g={class:"input-group-text",id:"basic-addon2"},O=Object(n["h"])("td",null,null,-1),v={class:"text-end"},x=Object(n["h"])("td",{colspan:"4",class:"text-end"},"總計",-1),y={class:"text-end"},I={class:"my-5 row justify-content-center"},C={class:"mb-3"},E=Object(n["h"])("label",{for:"email",class:"form-label"},"Email",-1),w={class:"mb-3"},k=Object(n["h"])("label",{for:"name",class:"form-label"},"收件人姓名",-1),L={class:"mb-3"},V=Object(n["h"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),R={class:"mb-3"},S=Object(n["h"])("label",{for:"address",class:"form-label"},"收件人地址",-1),U={class:"mb-3"},$=Object(n["h"])("label",{for:"message",class:"form-label"},"留言",-1),A={class:"text-end"},D=["disabled"];function q(t,e,a,q,J,T){var _=Object(n["G"])("Loading"),G=Object(n["G"])("font-awesome-icon"),P=Object(n["G"])("Field"),F=Object(n["G"])("ErrorMessage"),N=Object(n["G"])("Form");return Object(n["y"])(),Object(n["g"])("div",c,[Object(n["j"])(_,{active:J.isLoading},null,8,["active"]),r,Object(n["h"])("div",o,[Object(n["h"])("div",s,[Object(n["h"])("div",l,[Object(n["h"])("button",{class:"btn btn-danger",type:"button",onClick:e[0]||(e[0]=function(){return T.delAllCarts&&T.delAllCarts.apply(T,arguments)}),disabled:0===J.cartData.carts.length}," 清空購物車 ",8,i)]),Object(n["h"])("table",d,[u,Object(n["h"])("tbody",null,[J.cartData.carts?(Object(n["y"])(!0),Object(n["g"])(n["a"],{key:0},Object(n["E"])(J.cartData.carts,(function(t){return Object(n["y"])(),Object(n["g"])("tr",{key:t.id},[Object(n["h"])("td",null,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return T.removeCartItem(t.id)},disabled:J.isLoadingItem===t.id},[J.isLoadingItem===t.id?(Object(n["y"])(),Object(n["e"])(G,{key:0,icon:"spinner",pulse:""})):Object(n["f"])("",!0),h],8,b)]),Object(n["h"])("td",null,Object(n["J"])(t.product.title),1),Object(n["h"])("td",null,[Object(n["h"])("div",f,[Object(n["h"])("div",m,[Object(n["U"])(Object(n["h"])("select",{class:"form-select","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return T.updateCartItem(t)},disabled:J.isLoadingItem===t.id},[(Object(n["y"])(),Object(n["g"])(n["a"],null,Object(n["E"])(10,(function(e){return Object(n["h"])("option",{value:e,key:"".concat(e,"-").concat(t.id)},Object(n["J"])(e),9,j)})),64))],40,p),[[n["N"],t.qty]]),Object(n["h"])("span",g,Object(n["J"])(t.product.unit),1)])])]),O,Object(n["h"])("td",v,Object(n["J"])(t.total),1)])})),128)):Object(n["f"])("",!0)]),Object(n["h"])("tfoot",null,[Object(n["h"])("tr",null,[x,Object(n["h"])("td",y,Object(n["J"])(J.cartData.total),1)])])])])]),Object(n["h"])("div",I,[Object(n["j"])(N,{ref:"form",class:"col-md-6",onSubmit:T.createOrder},{default:Object(n["T"])((function(t){var a=t.errors;return[Object(n["h"])("div",C,[E,Object(n["j"])(P,{id:"email",name:"email",type:"email",class:Object(n["r"])(["form-control",{"is-invalid":a["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:J.form.user.email,"onUpdate:modelValue":e[1]||(e[1]=function(t){return J.form.user.email=t})},null,8,["class","modelValue"]),Object(n["j"])(F,{name:"email",class:"invalid-feedback"})]),Object(n["h"])("div",w,[k,Object(n["j"])(P,{id:"name",name:"姓名",type:"text",class:Object(n["r"])(["form-control",{"is-invalid":a["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:J.form.user.name,"onUpdate:modelValue":e[2]||(e[2]=function(t){return J.form.user.name=t})},null,8,["class","modelValue"]),Object(n["j"])(F,{name:"姓名",class:"invalid-feedback"})]),Object(n["h"])("div",L,[V,Object(n["j"])(P,{id:"tel",name:"電話",type:"text",class:Object(n["r"])(["form-control",{"is-invalid":a["電話"]}]),placeholder:"請輸入電話",rules:T.isPhone,modelValue:J.form.user.tel,"onUpdate:modelValue":e[3]||(e[3]=function(t){return J.form.user.tel=t})},null,8,["class","rules","modelValue"]),Object(n["j"])(F,{name:"電話",class:"invalid-feedback"})]),Object(n["h"])("div",R,[S,Object(n["j"])(P,{id:"address",name:"地址",type:"text",class:Object(n["r"])(["form-control",{"is-invalid":a["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:J.form.user.address,"onUpdate:modelValue":e[4]||(e[4]=function(t){return J.form.user.address=t})},null,8,["class","modelValue"]),Object(n["j"])(F,{name:"地址",class:"invalid-feedback"})]),Object(n["h"])("div",U,[$,Object(n["U"])(Object(n["h"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[5]||(e[5]=function(t){return J.form.message=t})},null,512),[[n["O"],J.form.message]])]),Object(n["h"])("div",A,[Object(n["h"])("button",{type:"submit",class:"btn btn-danger",disabled:Object.keys(a).length>0||0===J.cartData.carts.length}," 送出訂單 ",8,D)])]})),_:1},8,["onSubmit"])])])}a("ac1f"),a("00b4");var J=a("6be2"),T={data:function(){return{cartData:{carts:[]},form:{user:{name:"",email:"",tel:"",address:""},message:""},products:[],isLoadingItem:"",isLoading:!1}},methods:{isPhone:function(t){var e=/(^09|\+?8869)\d{2}(-?\d{3}-?\d{3})$/;return!!e.test(t)||"請輸入正確的手機號碼"},getProducts:function(){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/products")).then((function(e){console.log(e),t.products=e.data.products}))},getCart:function(){var t=this;this.isLoading=!0,this.$http.get("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart")).then((function(e){t.cartData=e.data.data,t.isLoading=!1,J["a"].emit("get-cart")}))},removeCartItem:function(t){var e=this;this.isLoadingItem=t,this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart/").concat(t)).then((function(t){console.log(t),e.getCart(),e.isLoadingItem="",J["a"].emit("get-cart")}))},updateCartItem:function(t){var e=this,a={product_id:t.product_id,qty:t.qty};this.isLoadingItem=t.id,this.$http.put("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/cart/").concat(t.id),{data:a}).then((function(t){console.log(t),e.getCart(),e.isLoadingItem=""}))},delAllCarts:function(){var t=this;this.isLoading=!0,this.$http.delete("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/carts")).then((function(e){console.log(e),t.isLoading=!1,t.getCart(),J["a"].emit("get-cart")}))},createOrder:function(){var t=this;this.isLoading=!0;var e=this.form;this.$http.post("".concat("https://vue3-course-api.hexschool.io/v2/","api/").concat("charlotte-hexschool","/order"),{data:e}).then((function(e){t.isLoading=!1,alert(e.data.message),t.$refs.form.resetForm(),t.getCart()}))}},mounted:function(){this.getCart()}},_=a("6b0d"),G=a.n(_);const P=G()(T,[["render",q]]);e["default"]=P},fce3:function(t,e,a){var n=a("d039"),c=a("da84"),r=c.RegExp;t.exports=n((function(){var t=r(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-5cd847b0.a5b964e5.js.map